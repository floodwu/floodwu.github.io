# 内存描述符

内存描述符用来表示进程的地址空间，用mm_struct表示，start_code、end_code分别表示代码段的起始、结束地址，start_data、end_data分别表示数据段的起始、结束地址，等等。mm_struct通过allocate_mm()宏从slab缓存中分配得到。

在进程描述符task_struct中，mm域存放该进程的内存描述符。fork()函数利用copy_mm()函数复制父进程的内存描述符给其子进程。如果父进程希望和子进程共享地址空间，可以在调用clone()时设置CLONE_VM标志，这种进程称为线程：是否共享地址空间几乎是进程和Linux中所谓线程本质上唯一的区别。

内核线程没有进程地址空间，也没有相关的内存描述符，所以内核线程对应的进程描述符中mm域为空。内核线程不需要访问任何用户空间的内存。
# 时钟中断处理程序

时钟中断处理程序可以划分为两个部分：体系结构相关部分和体系结构无关部分。
与体系结构相关的部分作为系统定时器的中断处理程序注册到内核中，以便在产生时钟中断时运行，虽然不同体系结构的具体工作方式不同，但是最低限度也要执行如下工作：
1.获得xtime_lock锁，以便对访问jiffies和墙上时间xtime进行保护
2.需要时，应答或者重新设置系统时间；
3.周期性地使用墙上时间更新实时时钟；
4.调用体系结构无关的函数tick_periodic()；

tick_periodic()函数主要执行体系结构无关部分的工作，主要包括：
1.给jiffies变量加1；
2.更新资源消耗的统计值，比如当前进程所消耗的系统时间和用户时间；
3.执行已经到期的动态定时器；
4.执行sheduler_tick()函数；
5.更新墙上时间xtime；
6.计算平均负载值；
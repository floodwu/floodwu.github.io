---
layout: post
title:  "阿里云消息服务（MNS）应用开发总结"
date: 2017-06-01 00:00:01
categories: 开发总结
tags: 消息队列
excerpt: ""
---

* content
{:toc}


# 背景
## MNS和ONS的对比
阿里云提供2种队列服务，在命名上有些混乱，这里先理清一下关系。
* 消息服务
文档中描述为消息服务（Message Service），但是产品简称**MNS**（而不是MS），之前又称MQS，文档：[https://help.aliyun.com/product/27412.html](https://help.aliyun.com/product/27412.html)

* 消息队列
文档中描述为消息队列（Message Queue，简称MQ），但是产品简称为ONS，文档[https://www.aliyun.com/product/ons/](https://www.aliyun.com/product/ons/)


两个产品的对比：[消息服务MNS和消息队列ONS产品对比](https://help.aliyun.com/document_detail/27437.html?spm=5176.bbsr259814.0.0.a77IO1)

**主要区别：**
* MNS仅支持HTTP协议，ONS支持HTTP、TCP、MQTT等多种协议；
* MNS不支持定时消息，ONS支持；
* MNS支持批量消息操作，ONS不支持；
* MNS支持消息优先级，ONS不支持；
* MNS可靠性99.99999999%，ONS	99.99%

个人认为：ONS的队列引擎是阿里基于MQTT协议的一种实现，即RocketMQ，主要是作为一种开源产品提供出来，如果自己搭建队列服务，可以考虑使用。当然了，如果是自己搭建服务，倒不如直接用RabbitMQ了。
而MNS更像是专门为了对外提供商业化的MQ服务而开发的商业化产品（从它只支持HTTP协议可以看出来），所以如果想直接拿来主义，避免自己维护队列服务器的烦恼，显然MNS是更加合适的选择。


## MNS官方文档摘要
[官方文档](https://help.aliyun.com/product/27412.html)



















































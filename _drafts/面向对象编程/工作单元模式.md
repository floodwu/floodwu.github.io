# 工作单元模式

工作单元的目标是维护变化的对象列表。收集变化的对象，并将变化的对象放到各自的增删改列表中，最后Commit，Commit时需要循环遍历这些列表。

工作单元模式和标识映射模式是互补的，标识映射模式在读数据库之前加了一层逻辑，保证不加载重复的对象。工作单元模式在写数据之前加了一层逻辑，保证不会重复提交数据库操作。

脏对象：当对象从数据库中取出并被修改后，就认为该对象“脏”了，脏对象保存在$dirty数组中，直到更新数据库。可以将一个脏对象标识为干净的，这样数据库就不会被更新。
# 闭包

匿名函数（Anonymous functions），也叫闭包函数（closures），允许临时创建一个没有指定名称的函数。最经常用作回调函数（callback）参数的值。

闭包函数也可以作为变量的值来使用（作函数参数、赋值给变量）。PHP会自动把此种表达式转换成内置类Closure的对象实例（匿名函数目前是通过Closure类来实现的）：
```javascript
$greet = function($name)
{
    printf("Hello %s\r\n", $name);
};

$greet('World');
```

闭包可以从父作用域中继承变量。 任何此类变量都应该用use语言结构传递进去。 
```javascript
$message = 'hello';
// 没有 "use"
$example = function () {
    var_dump($message);
};
echo $example();

// 继承 $message
$example = function () use ($message) {
    var_dump($message);
};
echo $example();
```

输出：
Notice: Undefined variable: message in D:\wamp\www\t.php on line 6
NULL 
string(5) "hello"

从父作用域中继承变量与使用全局变量是不同的。全局变量存在于一个全局的范围，无论当前在执行的是哪个函数。而闭包的父作用域是定义该闭包的函数（不一定是调用它的函数）。
# 解构赋值之对象

对象的属性没有次序，变量必须与属性同名，才能取到正确的值：

```
var { bar, foo } = { foo: "aaa", bar: "bbb" };
foo // "aaa"
bar // "bbb"

var { baz } = { foo: "aaa", bar: "bbb" };
baz // undefined
```

对象的解构赋值是下面形式的简写：
```
var { foo: foo, bar: bar } = { foo: "aaa", bar: "bbb" };
```
即对象的解构赋值的内部机制，是先找到同名属性，然后再赋给对应的变量。真正被赋值的是后者，而不是前者。因此，如果变量名与属性名不一致，可以写成下面这样：
```
var { foo: baz } = { foo: 'aaa', bar: 'bbb' };
baz // "aaa"

let obj = { first: 'hello', last: 'world' };
let { first: f, last: l } = obj;
f // 'hello'
l // 'world'
```

解构也可以用于嵌套结构的对象：
```
var node = {
  loc: {
    start: {
      line: 1,
      column: 5
    }
  }
};

var { loc: { start: { line }} } = node;
line // 1
loc  // error: loc is undefined
start // error: start is undefined
```
只有line是变量，loc和start都是模式，不会被赋值。

如果要将一个已经声明的变量用于解构赋值，必须使用()：
```
var x;
{x} = {x: 1};
// SyntaxError: syntax error
```
上面代码的写法会报错，因为JavaScript引擎会将{x}理解成一个代码块，从而发生语法错误。`只有不将大括号写在行首，避免JavaScript将其解释为代码块`，才能解决这个问题。
```
({x} = {x: 1});
```
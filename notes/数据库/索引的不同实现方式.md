# 索引的不同实现方式

在MySQL中，索引是在存储引擎层而不是服务器层实现的，并没有统一的索引标准，不同的存储引擎索引工作的方式是不一样的。

## `B-Tree索引`
意味着所有的索引都是按顺序存储的，并且每一个叶子页到根的距离相同。
B-Tree索引可应用于如下类型的查询：
（1）全值匹配：和索引中的所有列进行匹配；
（2）匹配最左前缀：如当索引有多列时，只使用索引的第一列；
（3）匹配列前缀：只使用索引第一列的值的开头部分；
（4）匹配范围值：只使用索引的第一列；
（5）精确匹配某一列，并范围匹配另一列：只使用索引的第一列及第二列的开头部分；
（6）只访问索引的查询：查询只需要访问索引，而无须访问数据行，即`覆盖索引`；
（7）可用于ORDER BY查询；

B-Tree索引的限制：
（1）如果不是按照索引的最左列开始查找，则无法使用索引；
（2）不能跳过索引中的列；
（3）如果查询中有某个列的范围查询（包括LIKE等），则其右边所有列都无法使用索引优化查找；


## `哈希索引`
基于哈希表实现，对于每一行数据存储引擎都会对所有的索引列计算一个哈希码，只有精确匹配索引所有列的查询才有效。
只有Memory引擎显式支持哈希索引。（详略）

InnoDB有一个特殊的功能：`自适应哈希索引`，当InnoDB注意到某些索引值被使用得非常频繁时，就会在内存中基于B-Tree索引之上再创建一个哈希索引，这样就让B-Tree索引也具有哈希索引的一些优点，比如快速的哈希查找。


## 空间数据索引（R-Tree）
MyISAM表支持空间索引，可以用作地理数据存储。


## 全文索引
查找的是文本中的关键词，而不是直接比较索引中的值。适用于MATCH AGAINST操作，而不是普通的WHERE条件操作。


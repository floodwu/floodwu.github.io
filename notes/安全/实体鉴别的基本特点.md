# 实体鉴别的基本特点

实体鉴别和报文鉴别不同。报文鉴别是对每一个收到的报文都要鉴别报文的发送者，而实体鉴别是在系统接入的全部持续时间内对和自己通信的对方实体只需验证一次。

## 最简单的实体鉴别过程 

![image](https://github.com/woojean/woojean.github.io/blob/master/images/wangluo32.png)

A 发送给 B 的报文的被加密，使用的是对称密钥 KAB。
B 收到此报文后，用共享对称密钥 KAB 进行解密，因而鉴别了实体 A 的身份。

## 明显的漏洞

入侵者 C 可以从网络上截获 A 发给 B 的报文。C 并不需要破译这个报文（因为这可能很花很多时间）而可以直接把这个由 A 加密的报文发送给 B，使 B 误认为 C 就是 A。然后 B 就向伪装是 A 的 C 发送应发给 A 的报文。
这就叫做重放攻击(replay attack)。C 甚至还可以截获 A 的 IP 地址，然后把 A 的 IP 地址冒充为自己的 IP 地址（这叫做 IP 欺骗），使 B 更加容易受骗。
为了对付重放攻击，可以使用不重数(nonce)。不重数就是一个不重复使用的大随机数，即“一次一数”。

## 使用不重数进行鉴别 
![image](https://github.com/woojean/woojean.github.io/blob/master/images/wangluo33.png)
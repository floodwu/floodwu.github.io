# 集线器、网桥、交换机工作方式的比较

## 用集线器扩展局域网 
优点：使原来属于不同碰撞域的局域网上的计算机能够进行跨碰撞域的通信。
扩大了局域网覆盖的地理范围。
缺点：碰撞域增大了，但总的吞吐量并未提高。如果不同的碰撞域使用不同的数据率，那么就不能用集线器将它们互连起来。   

## 在数据链路层扩展局域网 
在数据链路层扩展局域网是使用网桥。网桥工作在数据链路层，它根据 MAC 帧的目的地址对收到的帧进行转发。网桥具有过滤帧的功能。当网桥收到一个帧时，并不是向所有的接口转发此帧，而是先检查此帧的目的 MAC 地址，然后再确定将该帧转发到哪一个接口

## 使用网桥的优势
1.过滤通信量。 
2.扩大了物理范围。
3.提高了可靠性。
4.可互连不同物理层、不同 MAC 子层和不同速率（如10 Mb/s 和 100 Mb/s 以太网）的局域网。  

## 使用网桥的缺点
1.存储转发增加了时延。 
2.在MAC 子层并没有流量控制功能。 
3.具有不同 MAC 子层的网段桥接在一起时时延更大。
4.网桥只适合于用户数不太多(不超过几百个)和通信量不太大的局域网，否则有时还会因传播过多的广播信息而产生网络拥塞。这就是所谓的广播风暴。  

## 网桥和集线器（或转发器）不同 
集线器在转发帧时，不对传输媒体进行检测。
网桥在转发帧之前必须执行 CSMA/CD 算法。若在发送过程中出现碰撞，就必须停止发送和进行退避。

## 网桥应当按照以下`自学习算法`处理收到的帧和建立转发表
1.若从 A 发出的帧从接口 x 进入了某网桥，那么从这个接口出发沿相反方向一定可把一个帧传送到 A。
2.网桥每收到一个帧，就记下其源地址和进入网桥的接口，作为转发表中的一个项目。
3.在建立转发表时是把帧首部中的源地址写在“地址”这一栏的下面。
4.在转发帧时，则是根据收到的帧首部中的目的地址来转发的。这时就把在“地址”栏下面已经记下的源地址当作目的地址，而把记下的进入接口当作转发接口。
5.网桥在转发表中登记以下三个信息：在网桥的转发表中写入的信息除了地址和接口外，还有帧进入该网桥的时间。

## 网桥的自学习和转发帧的步骤归纳 
网桥收到一帧后先进行自学习。查找转发表中与收到帧的源地址有无相匹配的项目。如没有，就在转发表中增加一个项目（源地址、进入的接口和时间）。如有，则把原有的项目进行更新。
转发帧。查找转发表中与收到帧的目的地址有无相匹配的项目。如没有，则通过所有其他接口（但进入网桥的接口除外）按进行转发。如有，则按转发表中给出的接口进行转发。
若转发表中给出的接口就是该帧进入网桥的接口，则应丢弃这个帧（因为这时不需要经过网桥进行转发）。

透明网桥使用了生成树算法，这是为了避免产生转发的帧在网络中不断地兜圈子。 

## 多接口网桥——以太网交换机 
以太网交换机的每个接口都直接与主机相连，并且一般都工作在全双工方式。
交换机能同时连通许多对的接口，使每一对相互通信的主机都能像独占通信媒体那样，进行无碰撞地传输数据。 
以太网交换机由于使用了专用的交换结构芯片，其交换速率就较高。    
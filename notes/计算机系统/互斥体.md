# 互斥体

互斥体在内核中对应数据结构mutex，其`行为与使用计数为1的信号量类似，但操作接口更简单，实现也更高效`，而且使用限制更强。`引入互斥体的初衷是提供一个更简单的睡眠锁`，即一个不需要管理任何使用计数的简化版的信号量。其使用上也有更多的限制：
mutex的使用计数永远是1；
`给mutex上锁者必须负责给其解锁，不能在一个上下文中锁定一个mutex，而在另一个上下文中给他解锁`，因此mutex不适合内核同用户空间复杂的同步场景，最常使用的方式是在同一个上下文中上锁和解锁。
当持有一个mutex时，进程不可以退出；
不能在中断或者下半部中使用；
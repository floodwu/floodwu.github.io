# 免锁容器

免锁容器背后的策略是：对容器的修改可以与读取操作同时发生，只要读取者只能看到完成修改的结果即可。修改是在容器数据结构的某个部分的一个单独的副本（也可能是整个数据结构的副本）上执行的，并且这个副本在修改过程中是不可视的，只有当修改完成时被修改的结构才会自动地与主数据结构进行交换（原子性的操作），之后读取者就可以看到这个修改了。
Java提供的免锁容器包括：
CopyOnWriteArrayList、CopyOnWriteArraySet、ConcurrentHashMap、ConcurrentLinkedQueue

如果主要操作是读取，那么使用免锁容器将比使用基于synchroized实现同步的普通容器快许多，因为获取和释放锁的开销被省掉了。
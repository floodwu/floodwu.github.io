# vector的容量和长度之间的区别

为什么在连续存储元素的容器中需要支持“容量“的概念？而非连续的容器，如list，则不需要？
vector的容量是指容器在必须分配新存储空间之前可以存储的元素总数，而长度是指容器当前拥有的元素个数。
对于连续存储元素的容器而言，容器中的元素是连续存储的。当在容器内添加一个元素时，如果容器中已经没有空间容纳新的元素，则为了保持元素的连续性存储必须重新分配存储空间，用来存放原来的元素以及新添加的元素。首先将存放在旧存储空间中的元素复制到新存储空间里，接着插入新元素，最后撤销旧的存储空间。如果在每次添加新元素时，都要这样分配和撤销内存空间，其性能将会很慢。为了提高性能，连续存储元素的容器实际分配的容量要比当前所需的空间多一些，预留了一些额外的存储区，用于存放新添加的元素，使得不必为每个新元素重新分配容器。所以，在连续存储元素的容器中需要支持“容量“的概念。
而对于不连续存储元素的容器，不存在这样的内存分配问题。例如，在list容器中添加一个元素，标准库只需创建一个新元素，然后将该新元素连接到已存在的链表中，不需要重新分配存储空间，也不必复制任何已存在的元素。所以，这类容器不需要支持“容量“的概念。
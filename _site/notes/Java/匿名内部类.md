# 匿名内部类

```JAVA
public class Parcel{
  public Contents contents(){
    return new Contents(){  // 创建了一个继承自Contents的匿名类的对象（自动向上转型）
      private int i = 1;
      public int value(){
        return i;
      }
    };  // 分号（表达式结束）
  }

  public static void main(String[] args){
    Parcel p = new Parcel();
    Contents c = p.contents();
  }
}
```

如果在匿名内部类中引用了其外部定义的对象，编译器要求改对象必须是final的：
```
public class Parcel{
  public Destination destination(final String dest){  // 因为这个参数会在匿名内部类中使用，所以必须为final（此处如果传递的参数仅供Destination类做构造函数参数使用，则无需为final）
    return new Destination(){  
      private String label = dest;
      public String readLabel(){
        return label;
      }
    };  // 分号（表达式结束）
  }

  public static void main(String[] args){
    Parcel p = new Parcel();
    Destination d = p.destination("test");
  }
}
```

选择使用局部内部类而非匿名内部类的常见原因有：
1.需要一个已命名的构造器；
2.需要重载构造器；
3.需要不止一个该内部类的对象；
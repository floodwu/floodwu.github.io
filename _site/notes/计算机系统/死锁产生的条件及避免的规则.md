# 死锁产生的条件及避免的规则

## 死锁产生的条件：
要有一个或多个执行线程和一个或多个资源，每个线程都在等待其中的一个资源，但所有的资源都已经被占用了，所有线程都在相互等待，但它们永远不会释放已经占有的资源，于是任何线程都无法继续。最简单的死锁例子是自死锁。

## 避免死锁的简单规则：
按顺序加锁：当有多个锁时，必须保证以相同的顺序获取锁，这样可以阻止致命的拥抱类型的死锁；
防止发生饥饿：这个代码的执行是否一定会结束？如果A不发生，B一定要等待下去吗？
不要重复请求同一个锁；
设计应力求简单，越复杂的加锁方案越有可能造成死锁；


# 电子邮件相关的一些协议

发送邮件的协议：SMTP
读取邮件的协议：POP3 和 IMAP
MIME 在其邮件首部中说明了邮件的数据类型(如文本、声音、图像、视像等)，使用 MIME 可在邮件中同时传送多种类型的数据。

## 电子邮件的最主要的组成构件 
![image](https://github.com/woojean/woojean.github.io/blob/master/images/wangluo23.png)


## 简单邮件传送协议 SMTP 
SMTP 通信的三个阶段 
1. 连接建立：连接是在发送主机的 SMTP 客户和接收主机的 SMTP 服务器之间建立的。SMTP不使用中间的邮件服务器。   
2. 邮件传送
3. 连接释放：邮件发送完毕后，SMTP 应释放 TCP 连接。 

## 邮件读取协议POP3和IMAP
POP 也使用客户服务器的工作方式。
在接收邮件的用户 PC 机中必须运行 POP 客户程序，而在用户所连接的 ISP 的邮件服务器中则运行 POP 服务器程序。   

## IMAP协议(Internet Message Access Protocol)
IMAP 也是按客户服务器方式工作，现在较新的是版本 4，即 IMAP4。
用户在自己的 PC 机上就可以操纵 ISP 的邮件服务器的邮箱，就像在本地操纵一样。
因此 IMAP 是一个联机协议。当用户 PC 机上的 IMAP 客户程序打开 IMAP 服务器的邮箱时，用户就可看到邮件的首部。若用户需要打开某个邮件，则该邮件才传到用户的计算机上。

## IMAP 的特点
1.IMAP最大的好处就是用户可以在不同的地方使用不同的计算机随时上网阅读和处理自己的邮件。
2.IMAP 还允许收件人只读取邮件中的某一个部分。例如，收到了一个带有视像附件（此文件可能很大）的邮件。为了节省时间，可以先下载邮件的正文部分，待以后有时间再读取或下载这个很长的附件。
3.IMAP 的缺点是如果用户没有将邮件复制到自己的 PC 机上，则邮件一直是存放在 IMAP 服务器上。因此用户需要经常与 IMAP 服务器建立连接。  

## 基于万维网的电子邮件
![image](https://github.com/woojean/woojean.github.io/blob/master/images/wangluo24.png)


## 通用因特网邮件扩充 MIME
SMTP 有以下缺点：
1.SMTP 不能传送可执行文件或其他的二进制对象。
2.SMTP 限于传送 7 位的 ASCII 码。许多其他非英语国家的文字（如中文、俄文，甚至带重音符号的法文或德文）就无法传送。
3.SMTP 服务器会拒绝超过一定长度的邮件。
4.某些 SMTP 的实现并没有完全按照[RFC 821]的 SMTP 标准。  

## MIME 的特点
MIME 并没有改动 SMTP 或取代它。
MIME 的意图是继续使用目前的[RFC 822]格式，但增加了邮件主体的结构，并定义了传送非 ASCII 码的编码规则。  

## MIME 和 SMTP 的关系 
![image](https://github.com/woojean/woojean.github.io/blob/master/images/wangluo25.png)